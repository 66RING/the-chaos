# 智能指针

- 基本功能
    * 指针构造: 指针构造, 拷贝构造
    * **引用计数器的共享**: 使用指针做引用计数器
    * 运算符重载: 像使用普通指针一样使用智能指针
        + `->`运算符, 返回内部指针`T*`
        + `*`解引用运算符, 返回内部指向的对象的引用`T&`
    * 自动释放: 引用计数器更新, 自动释放
        + 释放的内容: 内部指针 + 引用计数器指针
    * 获取引用计数值
    * 赋值: 重载`=`运算符, 解决旧值 + **指向新值**
        + 主要同一指针的检测


## 线程安全

线程安全问题在于引用计数器, 加锁保证线程安全即可。

注意锁也要用指针, 拷贝也要拷贝锁 
